"use strict";(globalThis.webpackChunkrustchat_web=globalThis.webpackChunkrustchat_web||[]).push([[27],{746:(e,t,i)=>{i.d(t,{Z:()=>r});var n,l=i(7313);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(this,arguments)}const s=(e,t)=>{let{title:i,titleId:s,...r}=e;return l.createElement("svg",a({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),i?l.createElement("title",{id:s},i):null,n||(n=l.createElement("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#344054",strokeWidth:1.67,strokeLinecap:"round",strokeLinejoin:"round"})))},r=(0,l.forwardRef)(s)},4118:(e,t,i)=>{i.d(t,{Z:()=>r});var n,l=i(7313);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(this,arguments)}const s=(e,t)=>{let{title:i,titleId:s,...r}=e;return l.createElement("svg",a({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),i?l.createElement("title",{id:s},i):null,n||(n=l.createElement("path",{d:"M6.48667 11.6667L6.83667 8.33333H3.325V6.66667H7L7.43333 2.5H9.10833L8.66667 6.66667H11.9833L12.4167 2.5H14.0917L13.65 6.66667H16.625V8.33333H13.4667L13.1167 11.6667H16.6167V13.3333H12.9333L12.4917 17.5H10.8083L11.2417 13.3333H7.91667L7.475 17.5H5.8L6.23333 13.3333H3.25V11.6667H6.4H6.48667ZM8.1625 11.6667H11.4875L11.8375 8.33333H8.5125L8.1625 11.6667Z",fill:"#616161"})))},r=(0,l.forwardRef)(s)},8140:(e,t,i)=>{i.d(t,{Z:()=>o});var n,l,a=i(7313);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s.apply(this,arguments)}const r=(e,t)=>{let{title:i,titleId:r,...o}=e;return a.createElement("svg",s({width:16,height:12,viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),i?a.createElement("title",{id:r},i):null,n||(n=a.createElement("g",{clipPath:"url(#clip0_9046_23916)"},a.createElement("path",{d:"M4.93942 9.69781L1.62578 6.38648C1.25336 6.01431 0.651746 6.01431 0.27932 6.38648C-0.0931066 6.75865 -0.0931066 7.35984 0.27932 7.73201L4.27096 11.7209C4.64339 12.093 5.245 12.093 5.61743 11.7209L15.7207 1.62465C16.0931 1.25248 16.0931 0.651292 15.7207 0.279125C15.3483 -0.0930417 14.7466 -0.0930417 14.3742 0.279125L4.93942 9.69781Z",fill:"#78787C"}))),l||(l=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_9046_23916"},a.createElement("rect",{width:16,height:12,fill:"white"})))))},o=(0,a.forwardRef)(r)},6544:(e,t,i)=>{i.d(t,{Z:()=>r});var n,l=i(7313);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(this,arguments)}const s=(e,t)=>{let{title:i,titleId:s,...r}=e;return l.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),i?l.createElement("title",{id:s},i):null,n||(n=l.createElement("path",{d:"M16.5303 11.7204L16.4462 11.6478C16.1526 11.4299 15.7359 11.4541 15.4697 11.7204L12.7503 14.4397L12.75 7.75003L12.7432 7.64826C12.6935 7.28218 12.3797 7.00003 12 7.00003L11.8982 7.00688C11.5322 7.05654 11.25 7.37033 11.25 7.75003L11.2503 14.4417L8.52961 11.7198L8.4455 11.6472C8.15193 11.4293 7.73527 11.4534 7.46895 11.7196C7.176 12.0124 7.17591 12.4873 7.46875 12.7803L11.4687 16.7818L11.5529 16.8544C11.8465 17.0724 12.2632 17.0482 12.5295 16.7819L16.5303 12.7811L16.6029 12.6969C16.8208 12.4033 16.7966 11.9867 16.5303 11.7204ZM6.25 3C4.45507 3 3 4.45507 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C19.5449 21 21 19.5449 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25ZM4.5 6.25C4.5 5.2835 5.2835 4.5 6.25 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25V17.75C19.5 18.7165 18.7165 19.5 17.75 19.5H6.25C5.2835 19.5 4.5 18.7165 4.5 17.75V6.25Z",fill:"#616161"})))},r=(0,l.forwardRef)(s)},9269:(e,t,i)=>{i.d(t,{Z:()=>h});var n,l,a=i(4118),s=i(7313);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(this,arguments)}const o=(e,t)=>{let{title:i,titleId:a,...o}=e;return s.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},o),i?s.createElement("title",{id:a},i):null,n||(n=s.createElement("path",{d:"M6.83667 8.33333L6.48667 11.6667H6.4H3.25V13.3333H6.23333L5.8 17.5H7.475L7.91667 13.3333H11.2417L10.8083 17.5H12.4917L12.9333 13.3333H16.6167V11.6667H13.1167L13.2917 10H11.6625L11.4875 11.6667H8.1625L8.5125 8.33333H10.8334V6.66667H8.66667L9.10833 2.5H7.43333L7 6.66667H3.325V8.33333H6.83667Z",fill:"#616161"})),l||(l=s.createElement("path",{d:"M16.6875 4.16675V3.33341C16.6875 2.40008 15.875 1.66675 15 1.66675C14.125 1.66675 13.3333 2.40008 13.3333 3.33341V4.16675C12.8731 4.16675 12.5 4.53985 12.5 5.00008V7.50008C12.5 7.96031 12.8731 8.33341 13.3333 8.33341H15H16.6667C17.1269 8.33341 17.5 7.96031 17.5 7.50008V4.97925C17.5 4.53051 17.1362 4.16675 16.6875 4.16675ZM15.8333 4.16675H14.1667V3.33341C14.1667 2.85722 14.5556 2.50008 15 2.50008C15.4444 2.50008 15.8333 2.85722 15.8333 3.33341V4.16675Z",fill:"#616161"})))},c=(0,s.forwardRef)(o);var d=i(9184),p=i(6417);const x=d.ZP.div`
  display: flex;
  &.muted path {
    fill: #d0d5dd;
  }
`;function h(e){let{personal:t=!1,muted:i=!1,className:n}=e;return(0,p.jsx)(x,{className:`${i?"muted":""} ${n}`,children:t?(0,p.jsx)(c,{}):(0,p.jsx)(a.Z,{})})}},8009:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(7313),l=i(3709);function a(){const[e,t]=(0,n.useState)(""),i=(0,l.v9)((e=>Object.values(e.channels.byId))),[a,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(e){let t=["",...e.toLowerCase(),""].join(".*"),n=new RegExp(t);s(i.filter((e=>n.test(e.name.toLowerCase()))))}else s(i)}),[e]);return{input:e,channels:a,updateInput:e=>{t(e)}}}},8501:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(7313),l=i(3709);function a(){const[e,t]=(0,n.useState)(""),i=(0,l.v9)((e=>Object.values(e.contacts.byId))),[a,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(e){let t=["",e.toLowerCase(),""].join(".*"),n=new RegExp(t);s(i.filter((e=>n.test(e.name.toLowerCase()))))}else s(i)}),[e]);return{input:e,contacts:a,updateInput:e=>{t(e)}}}},2027:(e,t,i)=>{i.r(t),i.d(t,{default:()=>be});var n=i(7313),l=i(9184);const a=l.ZP.div`
  height: 100vh;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  background-color: #fff;
  margin: 8px 24px 10px 0;
  border-radius: 16px;
  .opts {
    padding: 20px 16px;
    display: flex;
    justify-content: space-between;
    width: 100%;
  }
  > .list {
    padding: 0 16px;
    height: 100%;
    overflow-y: scroll;
    width: 100%;

    display: flex;
    &.item {
      gap: 8px;
      flex-direction: column;
      /* align-items: flex-start; */
    }
    &.grid {
      flex-direction: row;
      flex-wrap: wrap;
      > .file_box {
        flex-direction: column;
        margin-right: 8px;
        margin-bottom: 8px;
      }
    }
  }
`;var s,r=i(3709),o=i(6952),c=i.n(o),d=i(2867),p=i(5018);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},x.apply(this,arguments)}const h=(e,t)=>{let{title:i,titleId:l,...a}=e;return n.createElement("svg",x({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},a),i?n.createElement("title",{id:l},i):null,s||(s=n.createElement("path",{d:"M2 3.75C2 3.33579 2.33579 3 2.75 3H10.25C10.6642 3 11 3.33579 11 3.75C11 4.16421 10.6642 4.5 10.25 4.5H2.75C2.33579 4.5 2 4.16421 2 3.75ZM2 11.75C2 11.3358 2.33579 11 2.75 11H9.25C9.66421 11 10 11.3358 10 11.75C10 12.1642 9.66421 12.5 9.25 12.5H2.75C2.33579 12.5 2 12.1642 2 11.75ZM2.75 7C2.33579 7 2 7.33579 2 7.75C2 8.16421 2.33579 8.5 2.75 8.5H13.25C13.6642 8.5 14 8.16421 14 7.75C14 7.33579 13.6642 7 13.25 7H2.75Z",fill:"#344054"})))},u=(0,n.forwardRef)(h);var f;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m.apply(this,arguments)}const g=(e,t)=>{let{title:i,titleId:l,...a}=e;return n.createElement("svg",m({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},a),i?n.createElement("title",{id:l},i):null,f||(f=n.createElement("path",{d:"M3.5 2C2.67157 2 2 2.67157 2 3.5V5.5C2 6.32843 2.67157 7 3.5 7H5.5C6.32843 7 7 6.32843 7 5.5V3.5C7 2.67157 6.32843 2 5.5 2H3.5ZM10.5 2C9.67157 2 9 2.67157 9 3.5V5.5C9 6.32843 9.67157 7 10.5 7H12.5C13.3284 7 14 6.32843 14 5.5V3.5C14 2.67157 13.3284 2 12.5 2H10.5ZM3.5 9C2.67157 9 2 9.67157 2 10.5V12.5C2 13.3284 2.67157 14 3.5 14H5.5C6.32843 14 7 13.3284 7 12.5V10.5C7 9.67157 6.32843 9 5.5 9H3.5ZM10.5 9C9.67157 9 9 9.67157 9 10.5V12.5C9 13.3284 9.67157 14 10.5 14H12.5C13.3284 14 14 13.3284 14 12.5V10.5C14 9.67157 13.3284 9 12.5 9H10.5Z",fill:"#344054"})))},v=(0,n.forwardRef)(g);var w=i(6417);const b=l.ZP.ul`
  display: flex;
  border: 1px solid #d0d5dd;
  box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05);
  border-radius: 8px;
  box-sizing: border-box;

  .view {
    cursor: pointer;
    padding: 8px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  &.item .item,
  &.grid .grid {
    border: 1px solid #52edff;
    box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05);
    border-radius: 8px;
    svg {
      transition: all 0.2s ease;
      path {
        fill: #52edff;
      }
    }
  }
`;function j(e){let{view:t=d.kO.item}=e;const i=(0,r.I0)(),n=e=>{const{view:n}=e.currentTarget.dataset;n!=t&&i((0,p.In)(t==d.kO.item?d.kO.grid:d.kO.item))};return(0,w.jsxs)(b,{className:t,children:[(0,w.jsx)("li",{className:"view item","data-view":d.kO.item,onClick:n,children:(0,w.jsx)(u,{})}),(0,w.jsx)("li",{className:"view grid","data-view":d.kO.grid,onClick:n,children:(0,w.jsx)(v,{})})]})}var y=i(562);const C=l.ZP.div`
  width: 100%;
  padding: 6px 16px;
  box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.1);
  &.embed {
    padding: 6px 8px;
    box-shadow: none;
  }
  .search {
    outline: none;
    background-color: rgba(0, 0, 0, 0.08);
    border-radius: 25px;
    padding: 10px 8px 10px 36px;
    color: #a1a1aa;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    background-image: url(${y});
    background-repeat: no-repeat;
    background-position: 8px center;
  }
`;function k(e){let{value:t="",updateSearchValue:i=null,embed:n=!1}=e;return(0,w.jsx)(C,{className:n?"embed":"",children:(0,w.jsx)("input",{value:t,onChange:e=>{i&&i(e.target.value)},className:"search",placeholder:"Search..."})})}var Z=i(2963),N=i(5536),H=i(8140);const L=l.ZP.div`
  padding: 12px;
  background: #ffffff;
  min-width: 200px;
  /* max-height: 230px; */
  overflow: auto;
  box-shadow: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    .date {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 16px;
      color: #616161;
      font-weight: 600;
      font-size: 14px;
      line-height: 20px;
      .check {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`,O={today:{title:"Today",duration:2222},in7d:{title:"Last 7 Days"},in30d:{title:"Last 30 Days"},in3m:{title:"Last 3 months"},in12m:{title:"Last 12 months"}};function E(e){let{select:t="",updateFilter:i}=e;const n=e=>{i({date:e})};return(0,w.jsx)(L,{children:(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"date",onClick:n.bind(null,void 0),children:["Any Time",!t&&(0,w.jsx)(H.Z,{className:"check"})]}),Object.entries(O).map((e=>{let[i,{title:l}]=e;return(0,w.jsxs)("li",{className:"date",onClick:n.bind(null,i),children:[l,t==i&&(0,w.jsx)(H.Z,{className:"check"})]},l)}))]})})}var V=i(4527),P=i(8501);const M=l.ZP.div`
  padding: 0 4px 4px 4px;
  background: #ffffff;
  max-height: 300px;
  overflow: auto;
  box-shadow: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .search {
    z-index: 1;
    background-color: #fff;
    position: sticky;
    top: 0;
    input {
      z-index: 2;
    }
  }
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    .contact {
      position: relative;
      cursor: pointer;
      &.none {
        padding: 10px;
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
        color: #616161;
      }
      .check {
        position: absolute;
        right: 6px;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`;function _(e){let{select:t="",updateFilter:i}=e;const{input:n,updateInput:l,contacts:a}=(0,P.Z)(),s=e=>{i({from:e})};return(0,w.jsxs)(M,{children:[(0,w.jsx)("div",{className:"search",children:(0,w.jsx)(k,{embed:!0,value:n,updateSearchValue:l})}),(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"contact none",onClick:s.bind(null,void 0),children:["Anyone",!t&&(0,w.jsx)(H.Z,{className:"check"})]}),a.map((e=>{let{uid:i}=e;return(0,w.jsxs)("li",{className:"contact",onClick:s.bind(null,i),children:[(0,w.jsx)(V.Z,{uid:i,interactive:!0}),t==i&&(0,w.jsx)(H.Z,{className:"check"})]},i)}))]})]})}var z=i(9269),I=i(8009);const S=l.ZP.div`
  padding: 0 4px 4px 4px;
  background: #ffffff;
  max-height: 400px;
  overflow: auto;
  box-shadow: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .search {
    z-index: 1;
    background-color: #fff;
    position: sticky;
    top: 0;
    input {
      z-index: 2;
    }
  }
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding: 8px;
    .channel {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      .name {
        color: #616161;
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
      }
      .check {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`;function $(e){let{select:t="",updateFilter:i}=e;const{input:n,updateInput:l,channels:a}=(0,I.Z)(),s=e=>{i({channel:e})};return(0,w.jsxs)(S,{children:[(0,w.jsx)("div",{className:"search",children:(0,w.jsx)(k,{embed:!0,value:n,updateSearchValue:l})}),(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"channel",onClick:s.bind(null,void 0),children:[(0,w.jsx)(z.Z,{}),(0,w.jsx)("span",{className:"name",children:"Any Channel"}),!t&&(0,w.jsx)(H.Z,{className:"check"})]}),a.map((e=>{let{gid:i,is_public:n,name:l}=e;return(0,w.jsxs)("li",{className:"channel",onClick:s.bind(null,i),children:[(0,w.jsx)(z.Z,{personal:!n}),(0,w.jsx)("span",{className:"name",children:l}),t==i&&(0,w.jsx)(H.Z,{className:"check"})]},i)}))]})]})}var F=i(9926),R=i(7811),B=i(6863),T=i(5637),A=i(6248),D=i(4012),Y=i(4716);const U=l.ZP.div`
  padding: 12px;
  background: #ffffff;
  min-width: 200px;
  /* max-height: 230px; */
  overflow: auto;
  box-shadow: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    .type {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #616161;
      font-weight: 600;
      font-size: 14px;
      line-height: 20px;
      color: #475467;
      .icon {
        width: 15px;
        height: auto;
      }
      .check {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`,W={doc:{title:"Documents",icon:(0,w.jsx)(A.Z,{className:"icon"})},pdf:{title:"PDFs",icon:(0,w.jsx)(F.Z,{className:"icon"})},image:{title:"Images",icon:(0,w.jsx)(Y.Z,{className:"icon"})},audio:{title:"Audio",icon:(0,w.jsx)(R.Z,{className:"icon"})},video:{title:"Videos",icon:(0,w.jsx)(B.Z,{className:"icon"})},code:{title:"Code Snippets",icon:(0,w.jsx)(D.Z,{className:"icon"})},unkown:{title:"Unkown Files",icon:(0,w.jsx)(T.Z,{className:"icon"})}};function q(e){let{select:t="",updateFilter:i}=e;const n=e=>{i({type:e})};return(0,w.jsx)(U,{children:(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"type",onClick:n.bind(null,void 0),children:["Any Type",!t&&(0,w.jsx)(H.Z,{className:"check"})]}),Object.entries(W).map((e=>{let[i,{title:l,icon:a}]=e;return(0,w.jsxs)("li",{className:"type",onClick:n.bind(null,i),children:[a," ",l,t==i&&(0,w.jsx)(H.Z,{className:"check"})]},l)}))]})})}var G=i(746);const J=l.ZP.div`
  /* padding: 20px 0; */
  display: flex;
  align-items: center;
  gap: 8px;
  .filter {
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    border: 1px solid #d0d5dd;
    box-sizing: border-box;
    box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05);
    border-radius: var(--br);
    padding: 7px 12px;
    font-weight: 500;
    font-size: 12px;
    line-height: 18px;
    &.selected {
      border: none;
      color: #fff;
      background-color: #22ccee;
      .arrow path {
        stroke: #fff;
      }
    }
    .avatar {
      width: 16px;
      height: 16px;
      border-radius: 50%;
    }
  }
`;function K(e){let{filter:t,updateFilter:i}=e;const[l,a]=(0,n.useState)({channel:!1,date:!1,from:!1,type:!1}),s=e=>{a((t=>({...t,...e})))},o=e=>{i(e);let t=Object.keys(e)[0];s({[t]:!1})},{contactMap:c,channelMap:d}=(0,r.v9)((e=>({contactMap:e.contacts.byId,channelMap:e.channels.byId}))),{from:p,channel:x,type:h,date:u}=t,{channel:f,date:m,type:g,from:v}=l;return(0,w.jsxs)(J,{children:[(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:s.bind(null,{from:!1}),visible:v,placement:"bottom-start",content:(0,w.jsx)(_,{select:t.from,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${p&&"selected"}`,onClick:s.bind(null,{from:!0}),children:[p&&(0,w.jsx)(N.Z,{className:"avatar",name:c[p].name,url:c[p].avatar}),(0,w.jsxs)("span",{className:"txt",children:["From ",p&&c[p].name]}),(0,w.jsx)(G.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:s.bind(null,{channel:!1}),visible:f,placement:"bottom-start",content:(0,w.jsx)($,{select:t.channel,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${x&&"selected"}`,onClick:s.bind(null,{channel:!0}),children:[(0,w.jsx)("span",{className:"txt",children:x?`In ${d[x].name}`:"Channel"}),(0,w.jsx)(G.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:s.bind(null,{type:!1}),visible:g,placement:"bottom-start",content:(0,w.jsx)(q,{select:t.type,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${h&&"selected"}`,onClick:s.bind(null,{type:!0}),children:[(0,w.jsx)("span",{className:"txt",children:h?W[h].title:"Type"}),(0,w.jsx)(G.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:s.bind(null,{date:!1}),visible:m,placement:"bottom-start",content:(0,w.jsx)(E,{select:t.date,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${u&&"selected"}`,onClick:s.bind(null,{date:!0}),children:[(0,w.jsx)("span",{className:"txt",children:u?O[u].title:"Date"}),(0,w.jsx)(G.Z,{className:"arrow"})]})})]})}var Q=i(658),X=i.n(Q),ee=i(9694),te=i.n(ee);const ie=l.ZP.div`
  background: #f3f4f6;
  border: 1px solid #d4d4d4;
  box-sizing: border-box;
  border-radius: 6px;
  width: 370px;
  height: 66px;
  /* height: fit-content; */
  * {
    user-select: text;
  }
  &.flex {
    width: 100%;
  }
  &.preview {
    position: relative;
    overflow: hidden;
    height: 281px;
    &.audio {
      height: 125px;
    }
  }
  .basic {
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    .icon {
      width: 36px;
      height: 48px;
    }
    .info {
      display: flex;
      flex-direction: column;
      gap: 4px;
      width: 100%;
      overflow: hidden;
      .name {
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
        color: #1c1c1e;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .details {
        font-weight: 400;
        font-size: 12px;
        line-height: 18px;
        color: #616161;
        display: flex;
        gap: 16px;
        .from strong {
          font-weight: bold;
        }
      }
    }
    .download {
      white-space: nowrap;
    }
  }
  .preview {
    height: calc(100% - 64px);
    overflow: hidden;
    /* todo */
  }
`,ne=l.ZP.div`
  height: 218px;
  video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`;function le(e){let{url:t=""}=e;return t?(0,w.jsx)(ne,{children:(0,w.jsx)("video",{controls:!0,src:t})}):null}const ae=l.ZP.div`
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  .err {
    padding: 18px;
    /* font-weight: bold; */
    font-size: 16px;
    color: #999;
  }
  audio {
    width: 100%;
  }
`;function se(e){let{url:t=""}=e;const[i,l]=(0,n.useState)(!1);return t?(0,w.jsx)(ae,{children:i?(0,w.jsx)("div",{className:"err",children:"Unable to play this audio"}):(0,w.jsx)("audio",{controls:!0,src:t,onError:e=>{l(!0)}})}):null}const re=l.ZP.div`
  height: 218px;
  overflow: hidden;
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`;function oe(e){let{url:t=""}=e;return t?(0,w.jsx)(re,{children:(0,w.jsx)("img",{src:t})}):null}const ce=l.ZP.div`
  padding: 8px;
  /* height: 218px; */
  overflow: hidden;
  embed {
    width: 100%;
    height: 100%;
  }
`;function de(e){let{url:t=""}=e;return t?(0,w.jsx)(ce,{children:(0,w.jsx)("embed",{src:t,type:"application/pdf"})}):null}const pe=l.ZP.div`
  background-color: #fff;
  height: 218px;
  padding: 15px 15px 0 15px;
  line-height: 1.4;
  overflow: scroll;
  white-space: pre-wrap;
  word-break: break-all;
  background-color: #000;
  color: #eee;
`;function xe(e){let{url:t=""}=e;const[i,l]=(0,n.useState)("");return(0,n.useEffect)((()=>{(async e=>{if(!e)return;const t=await fetch(e),i=await t.text();l(i)})(t)}),[t]),i?(0,w.jsx)(pe,{children:i}):null}const he=l.ZP.div`
  background-color: #fff;
  height: 218px;
  padding: 15px 15px 0 15px;
  line-height: 1.4;
  overflow: scroll;
  white-space: pre-wrap;
  word-break: break-all;
`;function ue(e){let{url:t=""}=e;const[i,l]=(0,n.useState)("");return(0,n.useEffect)((()=>{(async e=>{if(!e)return;const t=await fetch(e),i=await t.text();l(i)})(t)}),[t]),i?(0,w.jsx)(he,{children:i}):null}var fe=i(4711),me=i(6544);X().extend(te());function ge(e){let{preview:t=!1,flex:i,file_type:n="",name:l,size:a,created_at:s,from_uid:o,content:c}=e;const d=(0,r.v9)((e=>e.contacts.byId[o])),p=(0,fe.LP)(n,l);if(!c||!d||!l)return null;const x=(e=>{const{file_type:t,name:i,content:n}=e;let l=null;const a={image:/^image/gi,audio:/^audio/gi,video:/^video/gi,code:/(json|javascript|java|rb|c|php|xml|css|html)$/gi,doc:/^text/gi,pdf:/\/pdf$/gi},s=i.split("."),r=t||s[s.length-1];switch(!0){case a.image.test(r):l=(0,w.jsx)(oe,{url:n});break;case a.pdf.test(r):l=(0,w.jsx)(de,{url:n});break;case a.code.test(r):l=(0,w.jsx)(xe,{url:n});break;case a.doc.test(r):l=(0,w.jsx)(ue,{url:n});break;case a.audio.test(r):l=(0,w.jsx)(se,{url:n});break;case a.video.test(r):l=(0,w.jsx)(le,{url:n})}return l})({file_type:n,content:c,name:l}),h=t&&x;return(0,w.jsxs)(ie,{className:`file_box ${i?"flex":""} ${h?"preview":""} ${n.startsWith("audio")?"audio":""}`,children:[(0,w.jsxs)("div",{className:"basic",children:[p,(0,w.jsxs)("div",{className:"info",children:[(0,w.jsx)("span",{className:"name",children:l}),(0,w.jsxs)("span",{className:"details",children:[(0,w.jsx)("i",{className:"size",children:(0,fe.td)(a)}),(0,w.jsx)("i",{className:"time",children:X()(s).fromNow()}),(0,w.jsxs)("i",{className:"from",children:["by ",(0,w.jsx)("strong",{children:d.name})]})]})]}),(0,w.jsx)("a",{className:"download",download:l,href:`${c}&download=true`,children:(0,w.jsx)(me.Z,{})})]}),h&&(0,w.jsx)("div",{className:"preview",children:x})]})}let ve=null;function we(e){let{fileMessages:t}=e;const i=(0,n.useRef)(null),[l,s]=(0,n.useState)({}),{message:o,view:p,channelMessage:x}=(0,r.v9)((e=>({message:e.message,channelMessage:e.channelMessage,view:e.ui.fileListView})));return(0,n.useEffect)((()=>{p==d.kO.grid&&i?ve=new(c())(i.current,{itemSelector:".file_box"}):ve&&ve.destroy()}),[p,l]),(0,w.jsxs)(a,{children:[(0,w.jsx)(k,{value:l.name,updateSearchValue:e=>{s((t=>({...t,name:e})))}}),(0,w.jsx)("div",{className:"divider"}),(0,w.jsxs)("div",{className:"opts",children:[(0,w.jsx)(K,{filter:l,updateFilter:e=>{s((t=>({...t,...e})))}}),(0,w.jsx)(j,{view:p})]}),(0,w.jsx)("div",{className:`list ${p}`,ref:i,children:t.map((e=>{const t=o[e];if(!t)return null;const i=((e,t,i)=>{let n=!0;const{mid:l,file_type:a,created_at:s,from_uid:r,properties:o}=e,{name:c,type:d,date:p,from:x,channel:h}=t,u=o?o.name:"";if(x&&x!=r&&(n=!1),h&&-1==i[h].findIndex((e=>e==l))&&(n=!1),c){let e=["",...c.toLowerCase(),""].join(".*");new RegExp(e).test(u)||(n=!1)}return n})(t,l,x);if(!i)return null;const{mid:n,content:a,created_at:s,from_uid:r,properties:c}=t,{name:h,content_type:u,size:f}=null!==c&&void 0!==c?c:{};return(0,w.jsx)(ge,{preview:p==d.kO.grid,flex:p==d.kO.item,file_type:u,content:a,created_at:s,from_uid:r,size:f,name:h},n)}))})]})}const be=(0,n.memo)(we,((e,t)=>{return i=e.fileMessages,n=t.fileMessages,i.length===n.length&&i.every(((e,t)=>e==n[t]));var i,n}))},562:(e,t,i)=>{e.exports=i.p+"static/media/search.6ee4d07d418f350e5389.svg"}}]);