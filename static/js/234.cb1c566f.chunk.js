"use strict";(globalThis.webpackChunkrustchat_web=globalThis.webpackChunkrustchat_web||[]).push([[234],{4118:(e,t,n)=>{n.d(t,{Z:()=>s});var a,i=n(7313);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}const o=(e,t)=>{let{title:n,titleId:o,...s}=e;return i.createElement("svg",l({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},s),n?i.createElement("title",{id:o},n):null,a||(a=i.createElement("path",{d:"M6.48667 11.6667L6.83667 8.33333H3.325V6.66667H7L7.43333 2.5H9.10833L8.66667 6.66667H11.9833L12.4167 2.5H14.0917L13.65 6.66667H16.625V8.33333H13.4667L13.1167 11.6667H16.6167V13.3333H12.9333L12.4917 17.5H10.8083L11.2417 13.3333H7.91667L7.475 17.5H5.8L6.23333 13.3333H3.25V11.6667H6.4H6.48667ZM8.1625 11.6667H11.4875L11.8375 8.33333H8.5125L8.1625 11.6667Z",fill:"#616161"})))},s=(0,i.forwardRef)(o)},1902:(e,t,n)=>{n.d(t,{Z:()=>N});var a,i=n(3709),l=n(9466),o=n(2963),s=n(7313);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}const c=(e,t)=>{let{title:n,titleId:i,...l}=e;return s.createElement("svg",r({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},l),n?s.createElement("title",{id:i},n):null,a||(a=s.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.3596 22 8.77516 21.6039 7.35578 20.8583L3.06538 21.9753C2.6111 22.0937 2.1469 21.8213 2.02858 21.367C1.99199 21.2266 1.99198 21.0791 2.02855 20.9386L3.1449 16.6502C2.3972 15.2294 2 13.6428 2 12C2 6.47715 6.47715 2 12 2Z",fill:"#22CCEE"})))},d=(0,s.forwardRef)(c);var p;function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}const u=(e,t)=>{let{title:n,titleId:a,...i}=e;return s.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?s.createElement("title",{id:a},n):null,p||(p=s.createElement("path",{d:"M7.7716 2.43923L8.84819 2.09522C9.85701 1.77287 10.9349 2.29382 11.3669 3.31256L12.2266 5.33991C12.6013 6.22336 12.3934 7.26227 11.7126 7.9084L9.81832 9.70641C9.9352 10.7819 10.2967 11.8409 10.9029 12.8834C11.509 13.9259 12.266 14.7907 13.1739 15.4778L15.4491 14.7191C16.3115 14.4315 17.2507 14.762 17.7797 15.5392L19.0121 17.3498C19.627 18.2532 19.5164 19.4995 18.7534 20.2655L17.9356 21.0865C17.1217 21.9036 15.9592 22.2 14.8838 21.8645C12.3449 21.0726 10.0106 18.7214 7.88083 14.8109C5.74796 10.8947 4.99521 7.57214 5.62258 4.84313C5.88658 3.69482 6.70409 2.78033 7.7716 2.43923Z",fill:"#70707B"})))},h=(0,s.forwardRef)(u);var x;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const g=(e,t)=>{let{title:n,titleId:a,...i}=e;return s.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?s.createElement("title",{id:a},n):null,x||(x=s.createElement("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM18 14C19.1046 14 20 13.1046 20 12C20 10.8954 19.1046 10 18 10C16.8954 10 16 10.8954 16 12C16 13.1046 16.8954 14 18 14Z",fill:"#616161"})))},v=(0,s.forwardRef)(g);var b=n(5536);const w=n(9184).ZP.div`
  z-index: 9999;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 80px;
  width: 432px;
  gap: 4px;
  .avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
  }
  .name {
    user-select: text;
    font-weight: bold;
    font-size: 18px;
    line-height: 100%;
    color: #1c1c1e;
  }
  .email {
    user-select: text;
    font-weight: normal;
    font-size: 14px;
    line-height: 20px;
    color: #98a2b3;
  }
  .intro {
    color: #344054;
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
  }
  .icons {
    margin-top: 24px;
    display: flex;
    align-items: center;
    gap: 8px;
    .icon {
      cursor: pointer;
      font-weight: 500;
      font-size: 14px;
      line-height: 20px;
      color: #22ccee;
      display: flex;
      align-items: center;
      flex-direction: column;
      gap: 4px;
      background: #f9fafb;
      border-radius: 8px;
      width: 128px;
      padding: 14px 0 12px 0;

      &:not(.disabled):hover {
        background: #f2f4f7;
      }
      &.call,
      &.more {
        svg path {
          fill: #22ccee;
        }
      }
      &.disabled {
        color: #667085;
        svg path {
          fill: #667085;
        }
      }
      .txt {
        user-select: none;
      }
    }
  }
  .line {
    width: 100%;
    height: 1px;
    border: none;
    background-color: rgba(0, 0, 0, 0.1);
  }
  &.card {
    padding: 16px;
    width: 280px;
    background: #ffffff;
    box-shadow: 0px 20px 25px 20px rgba(31, 41, 55, 0.1), 0px 10px 10px rgba(31, 41, 55, 0.04);
    border-radius: 6px;
    .icons {
      padding-bottom: 2px;
    }
  }
`;var y=n(8198),C=n(7054),j=n(6417);function N(e){let{uid:t=null,type:n="embed",cid:a=null}=e;const{canCall:s,call:r,canCopyEmail:c,copyEmail:p,removeFromChannel:f,canRemoveFromChannel:u,canRemove:x,removeUser:m}=(0,C.Z)({uid:t,cid:a}),{data:g}=(0,i.v9)((e=>({data:e.contacts.byId[t]})));if(!g)return null;const{name:N,email:Z,avatar:k}=g,E="card"==n&&s,L="embed"==n&&x,S=E||Z||u||L;return(0,j.jsxs)(w,{className:n,children:[(0,j.jsx)(b.Z,{className:"avatar",url:k,name:N}),(0,j.jsx)("h2",{className:"name",children:N}),(0,j.jsx)("span",{className:"email",children:Z}),(0,j.jsxs)("ul",{className:"icons",children:[(0,j.jsx)(l.OL,{to:`/chat/dm/${t}`,children:(0,j.jsxs)("li",{className:"icon chat",children:[(0,j.jsx)(d,{}),(0,j.jsx)("span",{className:"txt",children:"Message"})]})}),E&&(0,j.jsxs)("li",{className:"icon call",onClick:r,children:[(0,j.jsx)(h,{}),(0,j.jsx)("span",{className:"txt",children:"Call"})]}),(0,j.jsx)(o.ZP,{disabled:!S,interactive:!0,popperOptions:{strategy:"fixed"},placement:"bottom-start",trigger:"click",hideOnClick:!0,content:(0,j.jsxs)(y.Z,{children:[E&&(0,j.jsx)("li",{className:"item",onClick:r,children:"Call"}),c&&(0,j.jsx)("li",{className:"item",onClick:p,children:"Copy Email"}),u&&(0,j.jsx)("li",{className:"item danger",onClick:f,children:"Remove from Channel"}),L&&(0,j.jsx)("li",{className:"item danger",onClick:m,children:"Remove from Server"})]}),children:(0,j.jsxs)("li",{className:"icon more "+(S?"":"disabled"),children:[(0,j.jsx)(v,{}),(0,j.jsx)("span",{className:"txt",children:"More"})]})})]})]})}},8198:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n(9184).ZP.ul`
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 4px;
  background-color: #fff;
  box-shadow: 0px 20px 25px 20px rgba(31, 41, 55, 0.1), 0px 10px 10px rgba(31, 41, 55, 0.04);
  border-radius: 12px;
  min-width: 200px;
  .item {
    position: relative;
    display: flex;
    align-items: center;
    gap: 14px;
    white-space: nowrap;
    cursor: pointer;
    border-radius: 6px;
    padding: 6px;
    font-style: normal;
    font-weight: 600;
    font-size: 14px;
    line-height: 20px;
    color: #616161;
    .icon {
      width: 20px;
      height: 20px;
      path {
        fill: #475467;
      }
    }
    &.sb {
      justify-content: space-between;
    }
    &:hover {
      background-color: #22ccee;
      color: #fff;
      .icon {
        path {
          fill: #fff;
        }
      }
    }
    &.underline {
      margin-bottom: 9px;
      &:before {
        position: absolute;
        content: "";
        left: 6px;
        bottom: -4px;
        display: block;
        padding: 0 6px;
        box-sizing: border-box;
        width: calc(100% - 12px);
        height: 1px;
        background-color: #f2f4f7;
      }
    }
    &.danger {
      color: #a11043;
      &:hover {
        background-color: #b42318;
        color: #fff;
      }
    }
    &[data-disabled="true"] {
      color: #a4a8b3;
      .icon {
        path {
          fill: #a4a8b3;
        }
      }
    }
  }
`},4263:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7313),i=n(4711),l=n(3657),o=n(4695);let s=null;function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smtp";const[t,n]=(0,a.useState)(!1),[r,c]=(0,a.useState)({}),[d,{isSuccess:p}]=(0,o.QP)(),[f,{isSuccess:u}]=(0,o.WO)(),[h,{data:x}]=(0,o.bx)(),[m,{isSuccess:g}]=(0,o.vF)(),[v,{data:b}]=(0,o.kv)(),[w,{data:y}]=(0,o.rW)(),[C,{data:j}]=(0,o.Ke)(),[N,{isSuccess:Z}]=(0,o.FV)(),k={login:d,smtp:f,agora:m,firebase:N},E={smtp:w,agora:h,firebase:C,login:v},L={login:p,smtp:u,agora:g,firebase:Z},S=k[e],H=E[e],O=L[e],P=()=>{c(s)},R=()=>{c((e=>({...e,enabled:!e.enabled})))};return(0,a.useEffect)((()=>{switch(e){case"firebase":C();break;case"agora":h();break;case"smtp":w();break;case"login":v()}}),[e]),(0,a.useEffect)((()=>{O&&(l.ZP.success("Configuration Updated!"),H())}),[O]),(0,a.useEffect)((()=>{const e=y||j||b||x;e&&(s=e,c(e))}),[y,j,b,x]),(0,a.useEffect)((()=>{(0,i.Z1)(s,r)?n(!1):n(!0)}),[r]),{reset:P,changed:t,updateConfig:S,agoraConfig:x,values:r,setValues:c,toggleEnable:R}}},7054:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(7313),i=n(3657),l=n(3709),o=n(7890),s=n(9784),r=n(5564),c=n(6432),d=n(4263),p=n(1026);function f(e){let{uid:t,cid:n}=e;const[f,u]=(0,a.useState)(void 0),{values:h}=(0,d.Z)("agora"),x=(0,o.bS)(`/contacts/${t}`),[m,{isSuccess:g}]=(0,c.QQ)(),[v,{isSuccess:b}]=(0,r.Cg)(),w=(0,o.s0)(),{copy:y}=(0,p.Z)(),{user:C,channel:j,loginUid:N,isAdmin:Z}=(0,l.v9)((e=>{var a;return{user:e.contacts.byId[t],channel:e.channels.byId[n],loginUid:e.authData.uid,isAdmin:null===(a=e.contacts.byId[e.authData.uid])||void 0===a?void 0:a.is_admin}}));(0,a.useEffect)((()=>{u(null!==t&&void 0!==t?t:N)}),[t,N]),(0,a.useEffect)((()=>{(b||g)&&(i.ZP.success("Remove Successfully"),g&&x&&w("/contacts"))}),[b,g,x]);const k=n&&!(null!==j&&void 0!==j&&j.is_public)&&(Z||(null===j||void 0===j?void 0:j.owner)==N),E=h.enabled&&N!=t;return{canRemove:Z&&N!=t&&!n,removeUser:e=>{const t=!Number.isNaN(+e);m(t&&e||f),(0,s.Bn)()},startChat:()=>{w(`/chat/dm/${t}`)},removeFromChannel:e=>{const t=!Number.isNaN(+e);v({id:+n,members:[+(t&&e||f)]}),(0,s.Bn)()},canRemoveFromChannel:k,canCopyEmail:!(null===C||void 0===C||!C.email),copyEmail:e=>{const t="string"==typeof e&&e||(null===C||void 0===C?void 0:C.email);y(t),(0,s.Bn)()},canCall:E,call:()=>{i.ZP.success("Cooming Soon..."),(0,s.Bn)()}}}},1026:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7313),i=n(1818),l=n(3657);const o=e=>{const{enableToast:t=!0}=e||{},[n,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{n&&t&&l.ZP.success("Copied!")}),[n]);const s=e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select();const a=document.execCommand("copy");return document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),a};return{copied:n,copy:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;return n||(t?(0,i.VP)(e).then((()=>{o(!0),a=setTimeout((()=>{o(!1)}),500)})):(o(s(e)),a=setTimeout((()=>{o(!1)}),500))),()=>{clearTimeout(a)}}}}},48:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(7313);const i=n(9184).ZP.div`
  height: 100vh;
  display: flex;
  background-color: #fff;
  margin: 8px 24px 10px 0;
  border-radius: 16px;
  overflow: auto;
  .left {
    padding: 8px;
    min-width: 268px;
    box-shadow: inset -1px 0px 0px rgba(0, 0, 0, 0.1);
    .filters {
      display: flex;
      flex-direction: column;
      gap: 2px;
      .filter {
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px;
        border-radius: var(--br);
        .icon {
          width: 15px;
          height: 20px;
        }
        .txt {
          font-weight: 600;
          font-size: 14px;
          line-height: 20px;
          color: #667085;
        }
        &:hover,
        &.active {
          background: rgba(116, 127, 141, 0.2);
        }
      }
    }
  }
  .right {
    width: 100%;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 32px;
    overflow-y: scroll;
    .container {
      max-width: 600px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      > .favorite {
        background: #f2f4f7;
      }
      .tip {
        display: inline-flex;
        align-items: center;
        font-style: normal;
        font-weight: 500;
        font-size: 12px;
        line-height: 18px;
        color: #bfbfbf;
        .from {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          margin-right: 8px;
          &.channel,
          &.user strong {
            font-weight: 600;
            color: #344054;
            .icon {
              width: 12px;
              height: 12px;
            }
          }
        }
      }
    }
  }
`;var l=n(3709),o=n(4379),s=n(658),r=n.n(s),c=n(7811),d=n(6863),p=n(5637),f=n(4716),u=n(4118),h=n(2867),x=n(6417);const m=[{icon:(0,x.jsx)(p.Z,{className:"icon"}),title:"All Items",filter:""},{icon:(0,x.jsx)(f.Z,{className:"icon"}),title:"Images",filter:"image"},{icon:(0,x.jsx)(d.Z,{className:"icon"}),title:"Videos",filter:"video"},{icon:(0,x.jsx)(c.Z,{className:"icon"}),title:"Audios",filter:"audio"}];const g=function(){const[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)([]),{favorites:c,channelData:d,userData:p}=(0,l.v9)((e=>({favorites:e.favorites,userData:e.contacts.byId,channelData:e.channels.byId}))),f=e=>{t(e)};return(0,a.useEffect)((()=>{if(e)switch(e){case"audio":s(c.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==h.bT.file&&n.startsWith("audio")})))));break;case"video":s(c.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==h.bT.file&&n.startsWith("video")})))));break;case"image":{const e=c.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==h.bT.file&&n.startsWith("image")}))));s(e)}}else s(c)}),[e,c]),(0,x.jsxs)(i,{children:[(0,x.jsx)("div",{className:"left",children:(0,x.jsx)("ul",{className:"filters",children:m.map((t=>{let{icon:n,title:a,filter:i}=t;return(0,x.jsxs)("li",{className:"filter "+(i==e?"active":""),onClick:f.bind(null,i),children:[n,(0,x.jsx)("span",{className:"txt",children:a})]},i)}))})}),(0,x.jsx)("div",{className:"right",children:n.map((e=>{var t,n;let{id:a,created_at:i,messages:l}=e;const[{source:{gid:s,uid:c}}]=l,f=s?(0,x.jsxs)("span",{className:"from channel",children:[(0,x.jsx)(u.Z,{className:"icon"})," ",null===(t=d[s])||void 0===t?void 0:t.name]}):(0,x.jsxs)("span",{className:"from user",children:["From ",(0,x.jsx)("strong",{children:null===(n=p[c])||void 0===n?void 0:n.name})]});return(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)("h4",{className:"tip",children:[f,r()(i).format("YYYY-MM-DD")]}),(0,x.jsx)(o.Z,{id:a},a)]},a)}))})]})}}}]);